{"version":3,"file":"Blog-ad38c4af.js","sources":["../../../simple/routes/Blog.svelte"],"sourcesContent":["<script context='module' lang='ts'>\n\tconst storedBlogs = {}\n</script>\n\n<script lang='ts'>\n\timport {RouteLink} from '@danielsharkov/svelte-router'\n\timport {onMount, createEventDispatcher} from 'svelte'\n\timport {defaultPageTransition} from '../utils'\n\tconst dispatch = createEventDispatcher()\n\n\tonMount(()=> {\n\t\tdispatch('hasOutro')\n\t})\n\n\texport let params\n\n\ttype Blog = {title: string, post: string}\n\n\tasync function fetchBlog(): Promise<Blog> {\n\t\tif (params.id in storedBlogs) {\n\t\t\treturn storedBlogs[params.id]\n\t\t}\n\n\t\tconst resp = await fetch(`blog/${params.id}.json`)\n\t\t// simulate latency\n\t\tawait new Promise((r)=> setTimeout(r, 500))\n\t\tconst json = await resp.json()\n\n\t\tstoredBlogs[params.id] = json\n\t\treturn json\n\t}\n</script>\n\n<div class='page' transition:defaultPageTransition on:outroend={()=> dispatch('outroDone')}>\n\t<RouteLink to='blogs' id='BlogBack'>&lt; Back to all blog posts</RouteLink>\n\t{#await fetchBlog()}\n\t\t<p class='placeholder'>Loading blog...</p>\n\t{:then blog}\n\t\t<h1>{blog.title}</h1>\n\t\t<p>{blog.post}</p>\n\t{:catch}\n\t\t<p class='error'>\n\t\t\tEither something went is wrong or this blog post doesn't exist.\n\t\t</p>\n\t{/await}\n</div>\n\n<style>\n\t.placeholder {\n\t\tfont-weight: 100;\n\t\tfont-size: 3em;\n\t\tcolor: var(--placeholder-font);\n\t}\n\t.error {\n\t\tcolor: var(--prime);\n\t}\n\t:global(#BlogBack) {\n\t\tdisplay: block;\n\t\tmargin-bottom: 20px;\n\t}\n\t:global(#BlogBack:not(:hover)) {\n\t\tcolor: var(--font-clr);\n\t\topacity: .5;\n\t}\n</style>\n"],"names":[],"mappings":";;;;;;;;;;;;YAkCqC,0BAA2B,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAO9D,UAEG,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;AALE,CAAA,IAAA,QAAA,YAAA,GAAI,IAAC,KAAK,GAAA,EAAA,CAAA;;;;AACX,CAAA,IAAA,QAAA,YAAA,GAAI,IAAC,IAAI,GAAA,EAAA,CAAA;;;;;;;;;;;;;;GADb,UAAoB,CAAA,MAAA,EAAA,EAAA,EAAA,MAAA,CAAA,CAAA;;;GACpB,UAAiB,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAHjB,UAAyC,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BADlC,GAAS,CAAA,CAAA,CAAA,EAAA,EAAA,IAAA,CAAA,CAAA;;;;;;;;;;;;;;;GAFlB,UAYK,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA5CE,WAAW,GAAA,EAAA,CAAA;;;;;AAOX,CAAA,MAAA,QAAQ,GAAG,qBAAqB,EAAA,CAAA;;CAEtC,OAAO,CAAA,MAAA;AACN,EAAA,QAAQ,CAAC,UAAU,CAAA,CAAA;;;OAGT,MAAM,EAAA,GAAA,OAAA,CAAA;;gBAIF,SAAS,GAAA;MACnB,MAAM,CAAC,EAAE,IAAI,WAAW,EAAA;UACpB,WAAW,CAAC,MAAM,CAAC,EAAE,CAAA,CAAA;;;AAGvB,EAAA,MAAA,IAAI,GAAS,MAAA,KAAK,CAAS,CAAA,KAAA,EAAA,MAAM,CAAC,EAAE,CAAA,KAAA,CAAA,CAAA,CAAA;;;AAEhC,EAAA,MAAA,IAAA,OAAO,CAAE,CAAC,IAAI,UAAU,CAAC,CAAC,EAAE,GAAG,CAAA,CAAA,CAAA;;QACnC,IAAI,GAAA,MAAS,IAAI,CAAC,IAAI,EAAA,CAAA;AAE5B,EAAA,WAAW,CAAC,MAAM,CAAC,EAAE,IAAI,IAAI,CAAA;SACtB,IAAI,CAAA;;;;;;;;;;;;;;;AAIwD,CAAA,MAAA,gBAAA,GAAA,MAAA,QAAQ,CAAC,WAAW,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}