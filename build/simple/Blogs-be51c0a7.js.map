{"version":3,"file":"Blogs-be51c0a7.js","sources":["../../../simple/routes/Blogs.svelte"],"sourcesContent":["<script context='module' lang='ts'>\n\ttype BlogPreview = {\n\t\tid:      string\n\t\ttitle:   string\n\t\tpreview: string\n\t}\n\n\tlet storedBlogsPreview: Array<BlogPreview> = null\n</script>\n\n<script lang='ts'>\n\timport {RouteLink} from '@danielsharkov/svelte-router'\n\timport {onMount, createEventDispatcher} from 'svelte'\n\timport {defaultPageTransition} from '../utils'\n\tconst dispatch = createEventDispatcher()\n\n\tonMount(()=> {\n\t\tdispatch('hasOutro')\n\t})\n\n\tasync function fetchBlogs(): Promise<Array<BlogPreview>> {\n\t\tif (storedBlogsPreview !== null) return storedBlogsPreview\n\n\t\tconst resp = await fetch('blogs.json')\n\t\t// simulate latency\n\t\tawait new Promise((r)=> setTimeout(r, 500))\n\t\tconst json = await resp.json()\n\n\t\tstoredBlogsPreview = json\n\t\treturn json\n\t}\n</script>\n\n<div class='page' transition:defaultPageTransition on:outroend={()=> dispatch('outroDone')}>\n\t<h1>Blog posts</h1>\n\t<div class='blogs'>\n\t\t{#await fetchBlogs()}\n\t\t\t<p class='placeholder'>Loading blog posts...</p>\n\t\t{:then blogs}\n\t\t\t{#each blogs as blog}\n\t\t\t\t<RouteLink to='blog' params={{id: blog.id}} class='blog'>\n\t\t\t\t\t<h4>{blog.title}</h4>\n\t\t\t\t\t<p>{blog.preview}</p>\n\t\t\t\t</RouteLink>\n\t\t\t{/each}\n\t\t{:catch err}\n\t\t\t<p class='error'>Failed to fetch blog posts: {err}</p>\n\t\t{/await}\n\t</div>\n</div>\n\n<style>\n\t.blogs {\n\t\tdisplay: grid;\n\t\tgap: 10px;\n\t}\n\t:global(.blogs .blog) {\n\t\tpadding: 20px;\n\t\tgap: 10px;\n\t\ttext-align: left;\n\t\tbox-shadow: var(--shadow);\n\t\tborder-radius: .5em;\n\t\tbackground-color: var(--fg-clr);\n\t\ttransition: .2s;\n\t\ttransition-property: transform, box-shadow, border-color, background-color;\n\t\twill-change: transform, box-shadow, border-color, background-color;\n\t}\n\t:global(.blogs .blog:hover) {\n\t\ttransform: translateY(-3px) scale(1.01);\n\t\tbox-shadow: var(--shadow-hover);\n\t\ttext-decoration: none;\n\t}\n\t:global(.blogs .blog:hover h4) {\n\t\ttext-decoration: underline;\n\t}\n\t.blogs .blog h4 {\n\t\tmargin: 0 0 10px 0;\n\t}\n\t.blogs .blog p {\n\t\tmargin: 0;\n\t\topacity: .5;\n\t\tcolor: var(--font-clr);\n\t}\n\t.blogs .placeholder {\n\t\tfont-weight: 100;\n\t\tfont-size: 3em;\n\t\tcolor: var(--placeholder-font);\n\t}\n\t.blogs .error {\n\t\tcolor: #f00;\n\t}\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;wBA8CiD,GAAG,CAAA,CAAA,CAAA,GAAA,EAAA,CAAA;;;;;;aAAhC,8BAA4B,CAAA,CAAA;;;;;;GAA7C,UAAqD,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAP9C,GAAK,CAAA,CAAA,CAAA,CAAA;;;;gCAAV,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;2BAAC,GAAK,CAAA,CAAA,CAAA,CAAA;;;;+BAAV,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;;;;;;;;;;;;;wBAAJ,MAAI,EAAA,CAAA,GAAA,WAAA,CAAA,MAAA,EAAA,CAAA,IAAA,CAAA,EAAA;;;;;;;;;;kCAAJ,MAAI,EAAA,CAAA,IAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEC,CAAA,IAAA,QAAA,YAAA,GAAI,IAAC,KAAK,GAAA,EAAA,CAAA;;;;AACX,CAAA,IAAA,QAAA,YAAA,GAAI,IAAC,OAAO,GAAA,EAAA,CAAA;;;;;;;;;;;;;;;;;;GADhB,UAAoB,CAAA,MAAA,EAAA,EAAA,EAAA,MAAA,CAAA,CAAA;;;GACpB,UAAoB,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;cAFS,EAAE,WAAE,GAAI,CAAA,CAAA,CAAA,CAAC,EAAE,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAH1C,UAA+C,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBADxC,UAAU,EAAA,EAAA,IAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;GAHpB,UAgBK,CAAA,MAAA,EAAA,IAAA,EAAA,MAAA,CAAA,CAAA;GAfJ,UAAkB,CAAA,IAAA,EAAA,EAAA,CAAA,CAAA;;GAClB,UAaK,CAAA,IAAA,EAAA,IAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAzCD,IAAA,kBAAkB,GAAuB,IAAI,CAAA;;eAalC,UAAU,GAAA;KACpB,kBAAkB,KAAK,IAAI,EAAA,OAAS,kBAAkB,CAAA;OAEpD,IAAI,GAAA,MAAS,KAAK,CAAC,YAAY,CAAA,CAAA;;;AAE3B,CAAA,MAAA,IAAA,OAAO,CAAE,CAAC,IAAI,UAAU,CAAC,CAAC,EAAE,GAAG,CAAA,CAAA,CAAA;;OACnC,IAAI,GAAA,MAAS,IAAI,CAAC,IAAI,EAAA,CAAA;AAE5B,CAAA,kBAAkB,GAAG,IAAI,CAAA;QAClB,IAAI,CAAA;;;;;;AAfN,CAAA,MAAA,QAAQ,GAAG,qBAAqB,EAAA,CAAA;;CAEtC,OAAO,CAAA,MAAA;AACN,EAAA,QAAQ,CAAC,UAAU,CAAA,CAAA;;;;;;;;;AAgBgD,CAAA,MAAA,gBAAA,GAAA,MAAA,QAAQ,CAAC,WAAW,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}